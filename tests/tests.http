

### List all available preprocessors

GET https://fosps.gravitatehealth.eu/focusing/preprocessing





### testing focusing lens pregancy MVP2 with DIV - doesnt work

POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-manual&lenses=lens-selector-mvp2_pregnancy&patientIdentifier=alicia-1

### testing focusing lens pregancy MVP2 with DIV - doesnt work

POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-manual&lenses=lens-selector-mvp2_pregnancy&patientIdentifier=Cecilia-1



### testing focusing lens pregancy DIV with DIV - should work

POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-manual&lenses=lens-selector-div_pregnancy&patientIdentifier=alicia-1

### testing focusing lens pregancy DIV (epi preprocessed) with DIV - works


POST https://fosps.gravitatehealth.eu/focusing/focus/processedbundledovato-en?preprocessors=preprocessing-service-manual&lenses=lens-selector-div_pregnancy&patientIdentifier=alicia-1


### testing focusing lens HIV DIV (multiple pedros)

POST https://fosps.gravitatehealth.eu/focusing/focus/processedbundledovato-en?preprocessors=preprocessing-service-manual&lenses=lens-selector-div_HIV&patientIdentifier=Pedro-1


### check epi for using in diabetes

GET https://fosps.gravitatehealth.eu/epi/api/fhir/Bundle/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165
### testing focusing lens diabetes DIV (cecilia)

POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-manual&lenses=lens-selector-div_diabetes&patientIdentifier=Cecilia-1


### Test all the lenses, individually.

### Test Lens: Pregnancy
POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-manual&lenses=lens-selector-mvp2_pregnancy&patientIdentifier=alicia-1

### Test Lens: Diabetes
POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-manual&lenses=lens-selector-mvp2_diabetes&patientIdentifier=Cecilia-1

### Test Lens: Interaction
POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-63b15a3bb9d18a00ecd0962bc011c765?preprocessors=preprocessing-service-manual&lenses=lens-selector-mvp2_interaction&patientIdentifier=Cecilia-1

### Test Lens: Intolerance, with Bundle

POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-manual&lenses=lens-selector-mvp2_intolerance&patientIdentifier=Cecilia-1



### Test Lens: Intolerance

POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-manual&lenses=lens-selector-mvp2_intolerance&patientIdentifier=Cecilia-1
Accept: application/json


### Test Lenses in groups

### Test Lens: Pregnancy + Diabetes
POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-manual&lenses=lens-selector-mvp2_pregnancy&lenses=lens-selector-mvp2_diabetes&patientIdentifier=Cecilia-1

### Test Lens: Pregnancy + Diabetes + Intolerance
POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-manual&lenses=lens-selector-mvp2_pregnancy&lenses=lens-selector-mvp2_diabetes&lenses=lens-selector-mvp2_intolerance&patientIdentifier=Cecilia-1


### Tests for Spanish TS

### Spanish TS Dovato (Lenses: Pregnancy, Interaction)
POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-f98744933a164dfc1d0bf89825ebfca1?preprocessors=preprocessing-service-manual&patientIdentifier=Cecilia-1&lenses=lens-selector-mvp2_pregnancy&lenses=lens-selector-mvp2_interaction

### Spanish TS Biktarvy (Lenses: Pregnancy, Interaction)
POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-es-b44cce291e466626afa836fffe72c350?preprocessors=preprocessing-service-manual&patientIdentifier=Cecilia-1&lenses=lens-selector-mvp2_pregnancy&lenses=lens-selector-mvp2_interaction

### Spanish TS Calcio/Calcium (Lenses: Pregnancy)
POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-925dad38f0afbba36223a82b3a766438?preprocessors=preprocessing-service-manual&patientIdentifier=Cecilia-1&lenses=lens-selector-mvp2_pregnancy

### Spanish TS Flucelvax
POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-es-56a32a5ee239fc834b47c10db1faa3fd?preprocessors=preprocessing-service-manual&patientIdentifier=Cecilia-1&lenses=lens-selector-mvp2_pregnancy


### Collapsse lens FHIR
POST https://gravitate-health.lst.tfo.upm.es/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-manual&lenses=lens-selector-mvp2_pregnancy&patientIdentifier=Pedro-1
Accept: application/json

### Collapse lens to print
POST https://gravitate-health.lst.tfo.upm.es/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-manual&lenses=lens-selector-mvp2_pregnancy&patientIdentifier=Pedro-1

### no preprocessor nor lenses and ips added as bundle

POST https://fosps.gravitatehealth.eu/focusing/focus/processedbundledovato-en
content-type: application/json

< ./examples/dk1.json


### another test

POST https://fosps.gravitatehealth.eu/focusing/focus/processedbundledovato-en
content-type: application/json

< ./examples/dk2.json



### another test v2

POST https://fosps.gravitatehealth.eu/focusing/focus/processedbundledovato-en
content-type: application/json

< ./examples/dk3.json

### joao test

POST http://localhost:5005/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-manual&lenses=lens-selector-mvp3_adult&patientIdentifier=helen-1



### Test Lens: Intolerance

POST https://fosps.gravitatehealth.eu/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-manual&lenses=lens-selector-mvp2_intolerance&patientIdentifier=Cecilia-1
Accept: application/json

### collapsing

POST https://gravitate-health.lst.tfo.upm.es/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-manual&lenses=lens-selector-mvp2_pregnancy&patientIdentifier=Pedro-1
Accept: application/json


### data

GET http://gravitate-health.lst.tfo.upm.es/ai/summary/bundlepackageleaflet-es-da0fc2395ce219262dfd4f0c9a9f72e1?preprocessors=preprocessing-service-manual&patientIdentifier=Cecilia-1&lenses=lens-summary-2&model=graviting-llama


### preprocessing dumb


POST https://gravitate-health.lst.tfo.upm.es/bundlepackageleaflet-es-94a96e39cfdcd8b378d12dd4063065f9?preprocessors=preprocessing-service-mvp2&lenses=lens-selector-mvp2_proxy-pregnancy&patientIdentifier=alicia-1


### preprocessing dumb

POST https://gravitate-health.lst.tfo.upm.es/focusing/focus/bundlepackageleaflet-es-da0fc2395ce219262dfd4f0c9a9f72e1?preprocessors=preprocessing-service-mvp2&lenses=lens-selector-mvp2_pregnancy&patientIdentifier=alicia-1


### lens proxy
POST https://gravitate-health.lst.tfo.upm.es/focusing/focus/bundlepackageleaflet-es-94a96e39cfdcd8b378d12dd4063065f9?preprocessors=preprocessing-service-manual&lenses=lens-selector-mvp2_proxy-pregnancy&patientIdentifier=alicia-1


### preprocessor "dumb"

POST https://gravitate-health.lst.tfo.upm.es/focusing/preprocessing/bundlepackageleaflet-es-da0fc2395ce219262dfd4f0c9a9f72e1?preprocessors=preprocessing-service-mvp2
Accept: application/json





### preprocessor dumb

POST https://gravitate-health.lst.tfo.upm.es/focusing/focus/bundlepackageleaflet-2d49ae46735143c1323423b7aea24165?preprocessors=preprocessing-service-mvp2&lenses=lens-selector-mvp2_pregnancy&patientIdentifier=alicia-1

### 
### Collapsse lens FHIR
POST https://gravitate-health.lst.tfo.upm.es/focusing/focus/bundlepackageleafletxyntha?preprocessors=preprocessing-service-mvp2&lenses=lens-selector-mvp2_pregnancy&patientIdentifier=Pedro-1





#### PROCESS PIPELINE

POST https://gravitate-health.lst.tfo.upm.es/connector/api/connectors/fhir-connector-fhir-sync-hl7/run
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJVWEtjb1E5ME1QWmhyeDVyQThPR3NMQS10SE5hb1dqRGRIV2NIY21wNXJrIn0.eyJleHAiOjE3MjAwOTg5NjcsImlhdCI6MTcyMDA5ODY2NywianRpIjoiNDgxMTMyOGMtNzM3OS00NTg0LTgwMGQtNDk4N2ZhNWViM2EzIiwiaXNzIjoiaHR0cHM6Ly9mb3Nwcy5ncmF2aXRhdGVoZWFsdGguZXUvYXV0aC9yZWFsbXMvR3Jhdml0YXRlSGVhbHRoIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjMxMjk3YWQxLWNiM2MtNDEzOC1hMTMyLWU2NDAxNjE3MGUxZCIsInR5cCI6IkJlYXJlciIsImF6cCI6IkdyYXZpdGF0ZUhlYWx0aCIsInNlc3Npb25fc3RhdGUiOiI2N2U0NTM5Ni05NmYwLTQzZmQtODUzNC1jNDYwOTBiOWZmNWQiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHBzOi8vZm9zcHMuZ3Jhdml0YXRlaGVhbHRoLmV1IiwiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWdyYXZpdGF0ZWhlYWx0aCIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJwcm9maWxlIGVtYWlsIiwic2lkIjoiNjdlNDUzOTYtOTZmMC00M2ZkLTg1MzQtYzQ2MDkwYjlmZjVkIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsIm5hbWUiOiJBbGljaWEiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJhbGljaWFAZ3Jhdml0YXRlaGVhbHRoLmV1IiwiZ2l2ZW5fbmFtZSI6IkFsaWNpYSIsImZhbWlseV9uYW1lIjoiIiwiZW1haWwiOiJhbGljaWFAZ3Jhdml0YXRlaGVhbHRoLmV1In0.qDRNfj8qzVqN25bz-LQac_-F5XJN-8woMTNwDkLGhP3mkU3XHzc8fBqyZkeN8w6OBst2q_uPRN32B4qgqBZJg_Voq1lB234w05hF77aYiH_UQ0C7rbXkdkzmoOCdo5ckpEEbwi_9QFBCKKSyJKL6Yl0NY-GirryQ0LVW97k2TjImyd3I0RvVPZcaQI01leuMrWMmm-X7yO30JO_pkyZVN9L6v2Azq0oUfdLizLih_KXrlgz8bHhIofkJxrO3He7Nt5pEbtTiQP3MfYa-iXajqzmmgz-OB5TLl0jyL7mamQjv6rE2tjY-C5h1y7wepvBLtufTcZ7aErs5fJlhBWZx_g

#### PROCESS PIPELINE 2

POST https://gravitate-health.lst.tfo.upm.es/connector/api/connectors/fhir-connector-git-epi/run
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJVWEtjb1E5ME1QWmhyeDVyQThPR3NMQS10SE5hb1dqRGRIV2NIY21wNXJrIn0.eyJleHAiOjE3MjAwOTg5NjcsImlhdCI6MTcyMDA5ODY2NywianRpIjoiNDgxMTMyOGMtNzM3OS00NTg0LTgwMGQtNDk4N2ZhNWViM2EzIiwiaXNzIjoiaHR0cHM6Ly9mb3Nwcy5ncmF2aXRhdGVoZWFsdGguZXUvYXV0aC9yZWFsbXMvR3Jhdml0YXRlSGVhbHRoIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjMxMjk3YWQxLWNiM2MtNDEzOC1hMTMyLWU2NDAxNjE3MGUxZCIsInR5cCI6IkJlYXJlciIsImF6cCI6IkdyYXZpdGF0ZUhlYWx0aCIsInNlc3Npb25fc3RhdGUiOiI2N2U0NTM5Ni05NmYwLTQzZmQtODUzNC1jNDYwOTBiOWZmNWQiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHBzOi8vZm9zcHMuZ3Jhdml0YXRlaGVhbHRoLmV1IiwiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWdyYXZpdGF0ZWhlYWx0aCIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJwcm9maWxlIGVtYWlsIiwic2lkIjoiNjdlNDUzOTYtOTZmMC00M2ZkLTg1MzQtYzQ2MDkwYjlmZjVkIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsIm5hbWUiOiJBbGljaWEiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJhbGljaWFAZ3Jhdml0YXRlaGVhbHRoLmV1IiwiZ2l2ZW5fbmFtZSI6IkFsaWNpYSIsImZhbWlseV9uYW1lIjoiIiwiZW1haWwiOiJhbGljaWFAZ3Jhdml0YXRlaGVhbHRoLmV1In0.qDRNfj8qzVqN25bz-LQac_-F5XJN-8woMTNwDkLGhP3mkU3XHzc8fBqyZkeN8w6OBst2q_uPRN32B4qgqBZJg_Voq1lB234w05hF77aYiH_UQ0C7rbXkdkzmoOCdo5ckpEEbwi_9QFBCKKSyJKL6Yl0NY-GirryQ0LVW97k2TjImyd3I0RvVPZcaQI01leuMrWMmm-X7yO30JO_pkyZVN9L6v2Azq0oUfdLizLih_KXrlgz8bHhIofkJxrO3He7Nt5pEbtTiQP3MfYa-iXajqzmmgz-OB5TLl0jyL7mamQjv6rE2tjY-C5h1y7wepvBLtufTcZ7aErs5fJlhBWZx_g


### LIST 

GET https://gravitate-health.lst.tfo.upm.es/connector/api/connectors/list
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJVWEtjb1E5ME1QWmhyeDVyQThPR3NMQS10SE5hb1dqRGRIV2NIY21wNXJrIn0.eyJleHAiOjE3MTg4ODM2NDMsImlhdCI6MTcxODg4MzM0MywianRpIjoiYjJkMDFmNGUtMjQ4YS00ZjQzLWJkOGYtZDM0MTJhMGJlYjlkIiwiaXNzIjoiaHR0cHM6Ly9ncmF2aXRhdGUtaGVhbHRoLmxzdC50Zm8udXBtLmVzL2F1dGgvcmVhbG1zL0dyYXZpdGF0ZUhlYWx0aCIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiIzMTI5N2FkMS1jYjNjLTQxMzgtYTEzMi1lNjQwMTYxNzBlMWQiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJHcmF2aXRhdGVIZWFsdGgiLCJzZXNzaW9uX3N0YXRlIjoiMmQ4Njk2NTMtMGFhYS00ZTYxLThhOTYtMDUyZGFiZGQwZTIyIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwczovL2Zvc3BzLmdyYXZpdGF0ZWhlYWx0aC5ldSIsIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwiZGVmYXVsdC1yb2xlcy1ncmF2aXRhdGVoZWFsdGgiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoicHJvZmlsZSBlbWFpbCIsInNpZCI6IjJkODY5NjUzLTBhYWEtNGU2MS04YTk2LTA1MmRhYmRkMGUyMiIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiQWxpY2lhIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWxpY2lhQGdyYXZpdGF0ZWhlYWx0aC5ldSIsImdpdmVuX25hbWUiOiJBbGljaWEiLCJmYW1pbHlfbmFtZSI6IiIsImVtYWlsIjoiYWxpY2lhQGdyYXZpdGF0ZWhlYWx0aC5ldSJ9.D4bzJWxagl_2GqWdL7muHleSjM5Nu_cngADSCA3qVZ_g1w0dsj3oh1qPu-lBSL-PoF4ASpzNXH6cgGiIpHNdhJe9fwbW1ua1qy7BrrUbCXxW0gOym1D0L75heFqePhMXBcENgww0g8ol8NFii3Ks2ASBn85-SKlpgfVCC-7YuyLlqOrgmwe12sChQvPLi6LtK8OFVzCjj4lD9r9XrvJ3YTypO7wBMT63tgTEWvlwRllANG4Ve4FOj0knZktecGWw3fT6QrCcBBiwEs1SaK2R3vpqaUnhvWpuV5KapC49Ce6Zzik-g4wu4j4HjPIGrKvwU_07X_z-BKP7ADbgJwLE2Q



#### DELETE

DELETE https://gravitate-health.lst.tfo.upm.es/epi/api/fhir/List/listFlucelvaxproc


### search all
GET https://gravitate-health.lst.tfo.upm.es/epi/api/fhir/MedicinalProductDefinition?name=ABASAGLAR 100 units/mL solution for injection in a cartridge


#### Test

GET https://gravitate-health.lst.tfo.upm.es/epi/api/fhir/MedicinalProductDefinition/mp8774c315768c11f1f8299f9a299778e8

#### Test

GET https://sandbox.hl7europe.eu/gravitate-health/fhir/MedicinalProductDefinition/mp8774c315768c11f1f8299f9a299778e8


####

GET https://gravitate-health.lst.tfo.upm.es/epi/api/fhir/Composition?_language=en&subject.identifier=EU%2F1%2F07%2F382%2F001&category=R


####

GET https://gravitate-health.lst.tfo.upm.es/epi/api/fhir/Composition?_language=en&subject.identifier=EU%2F1%2F14%2F944%2F003&category=R